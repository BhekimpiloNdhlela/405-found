{% extends 'base.html' %}

{% block title%}Profile page{% endblock %}

{% block content %}

<div class="w3-container w3-card w3-white w3-round w3-margin" style="margin-top:0!important;">
    <br>
    <div class="w3-row">
        <a href="javascript:void(0)" onclick="openCity(event, 'Basic Details');">
            <div class="w3-third tablink w3-bottombar w3-hover-light-grey w3-padding w3-border-red">Basic Details</div>
        </a>
        <a href="javascript:void(0)" onclick="openCity(event, 'Security');">
            <div class="w3-third tablink w3-bottombar w3-hover-light-grey w3-padding">Security</div>
        </a>
        <a href="javascript:void(0)" onclick="openCity(event, 'Tab 3');">
            <div class="w3-third tablink w3-bottombar w3-hover-light-grey w3-padding">Tab 3</div>
        </a>
    </div>

    <div id="Basic Details" class="w3-container tab" style="display: inherit;">
        <h2>Basic Details</h2>
        <form action="/account" method="post">
            <label for='name' class=''>Name</label>
            <input type="text" name="name" id="" class="w3-input w3-large w3-animate-input" value={{ user['name'] }}
                placeholder='Name' required>
            <label for='name' class=''>Surname</label>
            <input type="text" name="surname" id="" class="w3-input w3-large w3-animate-input"
                value={{ user['surname'] }} placeholder='Surname' required>
            <label for='name' class=''>Username</label>
            <input type="text" name="username" id="" class="w3-input w3-large w3-animate-input"
                value={{ user['username'] }} placeholder='Username' required>
            <br>
            <label for='image' class=''>Profile Picture</label>
            <br>
            <img src="{{ user['picture'] }}" alt="" id="image" name="image" class="w3-image">
            <br>
            <input class="file-upload" type="file" class="w3-input w3-large w3-animate-input" id="picture"
                name="picture" accept="image/*" onchange="upload()">
            <br>
            <input type="submit" value="Save Details" class="w3-input w3-large w3-animate-input w3-blue">
        </form>
    </div>

    <div id="Security" class="w3-container tab" style="display:none">
        <h2>Security</h2>
        <label for='name' class=''>Old Password</label>
        <input type="password" name="oldpassword" id="" class="w3-input w3-large w3-animate-input" value={{ user['name'] }}
                placeholder='Name' required>

        <label for='name' class=''>New Password</label>
        <input type="password" name="newpassword0" id="" class="w3-input w3-large w3-animate-input" value={{ user['name'] }}
                placeholder='Name' required>
        
        <label for='name' class=''>Confirm Password</label>
        <input type="password" name="newpassword1" id="" class="w3-input w3-large w3-animate-input" value={{ user['name'] }}
                placeholder='Name' required>
        <input type="submit" value="Update Password" class="w3-input w3-large w3-animate-input w3-blue">
    </div>

    <div id="Tab 3" class="w3-container tab" style="display:none">
        <h2>Tab 3</h2>
        <p>Tokyo is the capital of Japan.</p>
    </div>


    <script>
        function openCity(evt, cityName) {
            var i, x, tablinks;
            x = document.getElementsByClassName("tab");
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablink");
            for (i = 0; i < x.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" w3-border-red", "");
            }
            document.getElementById(cityName).style.display = "block";
            evt.currentTarget.firstElementChild.className += " w3-border-red";
        }
    </script>

    <br>
</div>
<script src="/static/js/upload.js"></script>
{% endblock %}